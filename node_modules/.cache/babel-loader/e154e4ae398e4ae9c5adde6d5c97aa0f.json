{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nirma/data/ap_2021_2022/it-project/ProjectAp2022/it-project-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import cookie from\"../../class/Cookie/Cookie\";import Alert from\"../Alert/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var base=cookie.GetCookies(\"base\");var RegisterForm=function RegisterForm(){var _useState=useState({Email:\"\",LastName:\"\",Password:\"\",FristName:\"\",ConfirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setErr=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setsuccess=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),errString=_useState8[0],setErrString=_useState8[1];var handleChange=function handleChange(event){// console.log(event.target.id);\n// this will dynamically select key position of the js object\nvar userHold={Email:\"user\",LastName:\"\",Password:\"\",FristName:\"\",ConfirmPassword:\"\"};// hold old values                            \nfor(var _i=0,_Object$entries=Object.entries(user);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];var p=key;userHold[p]=value;}var x=event.target.id;userHold[x]=event.target.value;setUser(userHold);};var send=function send(event){event.preventDefault();fetch(base+\"/api/register\",{method:'POST',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\n// cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\nheaders:{'Content-Type':'application/json',\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Credentials\":\"true\",\"Access-Control-Allow-Headers\":\"Content-Type, Depth, User-Agent, X-File-Size, X-Requested-With, If-Modified-Since, X-File-Name, Cache-Control\",\"Access-Control-Allow-Methods\":\"OPTIONS, GET, POST\"},body:JSON.stringify(user)}).then(function(e){return e.json();}).then(function(e){console.log(e);if(e.hasError||typeof e.errors==\"object\"){var hold=[];if(typeof e.errors==\"object\"){for(var _i2=0,_Object$entries2=Object.entries(e.errors);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],value=_Object$entries2$_i[1];hold.push(\"-\"+key+\": \"+value);}}else{hold.push(e.error);}setErr(true);setErrString(hold);}else{setErr(false);}if(!e.hasError&&e.errors===undefined){setsuccess(true);}else{setsuccess(false);}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[err&&/*#__PURE__*/_jsx(Alert,{type:\"danger mt-5 col-6 offset-md-3\",msg:errString}),success&&/*#__PURE__*/_jsx(Alert,{type:\"success text-center mt-5 col-6 offset-md-3\",msg:[\"Done\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-12 offset-md-3\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"Email\",\"aria-describedby\":\"emailHelp\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Achter naam\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"LastName\",\"aria-describedby\":\"emailHelp\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Voornaam\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"FristName\",\"aria-describedby\":\"emailHelp\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Paswoord\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"Password\",\"aria-describedby\":\"emailHelp\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Herhaal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"ConfirmPassword\",\"aria-describedby\":\"emailHelp\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:send,children:\"Submit\"})]})})})]});};export default RegisterForm;","map":{"version":3,"names":["useState","cookie","Alert","base","GetCookies","RegisterForm","Email","LastName","Password","FristName","ConfirmPassword","user","setUser","err","setErr","success","setsuccess","errString","setErrString","handleChange","event","userHold","Object","entries","key","value","p","x","target","id","send","preventDefault","fetch","method","mode","headers","body","JSON","stringify","then","e","json","console","log","hasError","errors","hold","push","error","undefined","catch"],"sources":["C:/Users/Nirma/data/ap_2021_2022/it-project/ProjectAp2022/it-project-frontend/src/components/register/RegisterForm.tsx"],"sourcesContent":["import { ChangeEventHandler, MouseEventHandler, useReducer, useState } from \"react\";\r\nimport cookie from \"../../class/Cookie/Cookie\";\r\nimport ICreateUser from \"../../interface/IRegisterForm/ICreateUser\";\r\nimport Alert from \"../Alert/Alert\";\r\n\r\nconst base =    cookie.GetCookies(\"base\");\r\n\r\nconst RegisterForm = ()=>{\r\n\r\n    const [user, setUser] = useState<ICreateUser>({\r\n        Email:  \"\",\r\n        LastName:  \"\",\r\n        Password:  \"\",\r\n        FristName:  \"\",\r\n        ConfirmPassword: \"\"\r\n    });\r\n\r\n    const [err,setErr] = useState<boolean>(false);\r\n    const [success,setsuccess] = useState<boolean>(false);\r\n    const [errString,setErrString] = useState<string[]>([]);\r\n\r\n    const handleChange: ChangeEventHandler<HTMLInputElement> = (event) => {\r\n       // console.log(event.target.id);\r\n       type ObjectKey = keyof typeof userHold; // this will dynamically select key position of the js object\r\n        let userHold:ICreateUser = {  Email:  \"user\",\r\n                                        LastName:  \"\",\r\n                                        Password:  \"\",\r\n                                        FristName:  \"\",\r\n                                        ConfirmPassword: \"\"\r\n                                    };\r\n\r\n         // hold old values                            \r\n        for (const [key, value] of Object.entries(user)) {\r\n            const  p  = key as ObjectKey\r\n            userHold[p] = value;\r\n        }                    \r\n        \r\n        const  x  = event.target.id as ObjectKey\r\n        userHold[x] = event.target.value;\r\n    \r\n        setUser(userHold);\r\n                            \r\n      }\r\n\r\n      const send :MouseEventHandler<HTMLButtonElement> = (event)=>{\r\n        event.preventDefault()\r\n            fetch(base+\"/api/register\",{\r\n             \r\n                    method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n                    mode: 'cors', // no-cors, *cors, same-origin\r\n                   // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                    headers: {\r\n                      'Content-Type': 'application/json',\r\n                      \"Access-Control-Allow-Origin\": \"*\",\r\n                      \"Access-Control-Allow-Credentials\": \"true\",\r\n                      \"Access-Control-Allow-Headers\": \"Content-Type, Depth, User-Agent, X-File-Size, X-Requested-With, If-Modified-Since, X-File-Name, Cache-Control\",\r\n                      \"Access-Control-Allow-Methods\": \"OPTIONS, GET, POST\"\r\n\r\n                    },\r\n                    body: JSON.stringify(user)\r\n                    \r\n            }).then(e=>e.json())\r\n            .then(e => {\r\n                console.log(e)\r\n                if(e.hasError || typeof e.errors == \"object\"){\r\n                    let hold = [];\r\n                    if(typeof e.errors == \"object\"){\r\n                    for (const [key, value] of Object.entries(e.errors)) {\r\n                       hold.push(\"-\"+key+\": \"+value);\r\n                    }                   \r\n                 }else{\r\n                    hold.push(e.error );\r\n                 }\r\n                    \r\n                    setErr(true)\r\n                    setErrString(hold);\r\n                    \r\n\r\n\r\n                }else{\r\n                    setErr(false)\r\n                }\r\n\r\n                if(!e.hasError && e.errors === undefined){\r\n                    \r\n                    setsuccess(true)\r\n                }else{\r\n                    setsuccess(false)\r\n                }\r\n            })\r\n            .catch(err=> console.log(err))\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n          {err&&<Alert type=\"danger mt-5 col-6 offset-md-3\" msg={errString}></Alert>}\r\n          {success&&<Alert type=\"success text-center mt-5 col-6 offset-md-3\" msg={[\"Done\"]}></Alert>}\r\n               \r\n                <div className=\"row mt-5\">\r\n                    <div className=\"col-md-6 col-sm-12 offset-md-3\">\r\n                        <form action=\"\">\r\n                    \r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"Email\" aria-describedby=\"emailHelp\" onChange={handleChange} />\r\n                        </div>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Achter naam</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"LastName\" aria-describedby=\"emailHelp\" onChange={handleChange} />\r\n                        </div>\r\n\r\n\r\n\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Voornaam</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"FristName\" aria-describedby=\"emailHelp\"  onChange={handleChange} />\r\n                        </div>\r\n\r\n\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Paswoord</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"Password\" aria-describedby=\"emailHelp\" onChange={handleChange} />\r\n                        </div>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Herhaal</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"ConfirmPassword\" aria-describedby=\"emailHelp\" onChange={handleChange} />\r\n                        </div>\r\n                       \r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={send}>Submit</button>\r\n                            \r\n                        </form>\r\n                      \r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n       \r\n        \r\n     \r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default RegisterForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}