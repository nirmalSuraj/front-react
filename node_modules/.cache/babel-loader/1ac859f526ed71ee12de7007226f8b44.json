{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nirma\\\\data\\\\ap_2021_2022\\\\it-project\\\\ProjectAp2022\\\\it-project-frontend\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styles from './App.module.css';\nimport NavBar from './components/NavBar/NavBar';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport HomeScreen from './screens/HomeScreen/HomeScreen';\nimport ContactScreen from './screens/ContactScreen/ContactScreen';\nimport HistoryScreen from './screens/HistoryScreen/HistoryScreen';\nimport LoginScreen from './screens/LoginScreen/LoginScreen';\nimport { SiteContext } from './context';\nimport Register from './screens/Register/Register';\nimport { Container } from 'react-bootstrap';\nimport auth from \"./class/Auth/Auth\";\nimport cookie from \"./class/Cookie/Cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [userSessionHistoryCompanies, setHistoryCompanies] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [companyVAT, SetInputVat] = useState([]);\n  const [vatArray, setVatArray] = useState([]);\n  const [companyInfo, setCompanyInfo] = useState([]);\n  const [loggedin, setAuth] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n\n  const setSearchHistory = search => {\n    console.log(search);\n    setSearch(search);\n  };\n\n  const submitButtonCompareForm = event => {\n    event.preventDefault();\n    SetInputVat(vatArray);\n    setVatArray([]);\n  };\n\n  const HistoryCall = async () => {\n    try {\n      setLoading(true);\n      console.log(loading);\n      console.log(search);\n      let url = `https://localhost:44391/api/history/history/all`; //  url = `https://localhost:44391/api/history/${search}/history`;\n\n      if (search.length > 0) console.log(search);\n      let response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Authorization': `Bearer ${cookie.GetCookies(\"token\")}`\n        }\n      });\n      auth.destroy(response.status);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (auth.Auth()) {\n      HistoryCall().then(e => {\n        if (e.sendOBJ != null) {\n          setHistoryCompanies(e.sendOBJ.history);\n          setLoading(false);\n          console.log(loading);\n        }\n      });\n    }\n  }, [loggedin]);\n  let vat = '123';\n  return /*#__PURE__*/_jsxDEV(SiteContext.Provider, {\n    value: {\n      companies: companies\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.App}`,\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(HomeScreen, {\n                vatArray: vatArray,\n                setVatArray: setVatArray,\n                submit: submitButtonCompareForm,\n                companyVAT: companyVAT,\n                companyInfo: companyInfo,\n                setCompanyInfo: setCompanyInfo,\n                userSessionHistoryCompanies: userSessionHistoryCompanies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/contact\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(ContactScreen, {\n                userSessionHistoryCompanies: userSessionHistoryCompanies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/UserHistory\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(HistoryScreen, {\n                userSessionHistoryCompanies: userSessionHistoryCompanies,\n                setHistoryCompanies: setHistoryCompanies,\n                setSearch: setSearchHistory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/Login\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(LoginScreen, {\n                setAuth: setAuth,\n                loggedin: loggedin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/register\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n} //commentje\n\n\n_s(App, \"HLes+FlY5rpo5fsKTcxy83xwVmU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","styles","NavBar","BrowserRouter","Redirect","Route","Switch","HomeScreen","ContactScreen","HistoryScreen","LoginScreen","SiteContext","Register","Container","auth","cookie","App","userSessionHistoryCompanies","setHistoryCompanies","companies","setCompanies","companyVAT","SetInputVat","vatArray","setVatArray","companyInfo","setCompanyInfo","loggedin","setAuth","loading","setLoading","search","setSearch","setSearchHistory","console","log","submitButtonCompareForm","event","preventDefault","HistoryCall","url","length","response","fetch","method","headers","GetCookies","destroy","status","data","json","error","Auth","then","e","sendOBJ","history","vat"],"sources":["C:/Users/Nirma/data/ap_2021_2022/it-project/ProjectAp2022/it-project-frontend/src/App.tsx"],"sourcesContent":["import React, { ChangeEventHandler, MouseEventHandler, useState, useEffect} from 'react';\r\nimport styles from './App.module.css';\r\nimport Button from 'react-bootstrap/Button';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport HomeScreen from './screens/HomeScreen/HomeScreen';\r\nimport ContactScreen from './screens/ContactScreen/ContactScreen';\r\nimport HistoryScreen from './screens/HistoryScreen/HistoryScreen';\r\nimport LoginScreen from './screens/LoginScreen/LoginScreen';\r\nimport { ICompanyData, HistoryResponse } from './types';\r\nimport { SiteContext } from './context';\r\nimport { Form } from 'react-bootstrap/lib/Navbar';\r\nimport Register from './screens/Register/Register';\r\nimport { Container } from 'react-bootstrap';\r\nimport auth from \"./class/Auth/Auth\";\r\nimport cookie from \"./class/Cookie/Cookie\";\r\n\r\nfunction App() {\r\n  const [userSessionHistoryCompanies, setHistoryCompanies] = useState<ICompanyData[]>([]);\r\n  const [companies, setCompanies] = useState<ICompanyData[]>([]);\r\n  const [companyVAT, SetInputVat] = useState<string[]>([]);\r\n  const [vatArray, setVatArray] = useState<string[]>([]);\r\n  const [companyInfo, setCompanyInfo] = useState<ICompanyData[]>([]);\r\n  const [loggedin, setAuth] = useState<boolean>(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [search, setSearch] = useState<string>(\"\");\r\n\r\n  const setSearchHistory = (search:string)=>{\r\n    console.log(search);\r\n    setSearch(search);\r\n  }\r\n\r\n  const submitButtonCompareForm: MouseEventHandler<HTMLButtonElement> = (event)=>{\r\n    event.preventDefault();\r\n    SetInputVat(vatArray);\r\n    setVatArray([]);\r\n  }\r\n\r\n\r\n\r\n  const HistoryCall= async () => {\r\n    \r\n   \r\n    try {\r\n      setLoading(true)\r\n      console.log(loading);\r\n      console.log(search)\r\n      \r\n      let url = `https://localhost:44391/api/history/history/all`;\r\n      //  url = `https://localhost:44391/api/history/${search}/history`;\r\n      if(search.length > 0 ) console.log(search);\r\n     \r\n      let response = await fetch(url, {\r\n          method: 'GET',\r\n          headers: {\r\n              'content-type': 'application/json',\r\n              'Access-Control-Allow-Origin': '*',\r\n              'Authorization': `Bearer ${cookie.GetCookies(\"token\")}`\r\n          }\r\n      });\r\n\r\n      auth.destroy(response.status);\r\n \r\n      const data  =  await response.json();\r\n      return data\r\n\r\n      \r\n  } catch (error) {\r\n      console.log(error)  \r\n    \r\n    \r\n    }\r\n   }\r\n\r\n   useEffect(() => {\r\n\r\nif(auth.Auth()){\r\n  \r\n  HistoryCall().then((e:HistoryResponse)=>{\r\n    if(e.sendOBJ != null){\r\n     setHistoryCompanies(e.sendOBJ.history);\r\n            setLoading(false)\r\n            console.log(loading);\r\n    }}\r\n    \r\n    )\r\n\r\n}\r\n\r\n  \r\n  }, [loggedin]);\r\n\r\nlet vat = '123' \r\n\r\n\r\n\r\n  return (\r\n    <SiteContext.Provider value={{companies:companies}}>\r\n      <div className={`${styles.App}`}>\r\n        <BrowserRouter>\r\n\r\n        <NavBar/>\r\n        <Container>\r\n            <Switch>\r\n              <Route path=\"/home\" exact >\r\n                <HomeScreen  vatArray = {vatArray} setVatArray = {setVatArray} submit = {submitButtonCompareForm} companyVAT = {companyVAT} companyInfo = {companyInfo} setCompanyInfo = {setCompanyInfo} userSessionHistoryCompanies = {userSessionHistoryCompanies} />\r\n              </Route>\r\n              <Route path=\"/contact\" exact>\r\n                <ContactScreen userSessionHistoryCompanies={userSessionHistoryCompanies} />\r\n              </Route>\r\n              <Route path=\"/UserHistory\" exact>\r\n                <HistoryScreen userSessionHistoryCompanies={userSessionHistoryCompanies} setHistoryCompanies= {setHistoryCompanies} setSearch={setSearchHistory}/>\r\n              </Route>\r\n              <Route path=\"/Login\" exact>\r\n                <LoginScreen setAuth={setAuth} loggedin = {loggedin} />\r\n              </Route>\r\n              <Route path=\"/register\" exact>\r\n                <Register />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                <Redirect to=\"/home\" />\r\n            </Route>\r\n            </Switch>\r\n          </Container>\r\n        </BrowserRouter>\r\n\r\n      </div>\r\n    </SiteContext.Provider>\r\n  );\r\n}\r\n//commentje\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}