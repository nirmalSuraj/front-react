{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nirma\\\\data\\\\ap_2021_2022\\\\it-project\\\\ProjectAp2022\\\\it-project-frontend\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styles from './App.module.css';\nimport NavBar from './components/NavBar/NavBar';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport HomeScreen from './screens/HomeScreen/HomeScreen';\nimport ContactScreen from './screens/ContactScreen/ContactScreen';\nimport HistoryScreen from './screens/HistoryScreen/HistoryScreen';\nimport LoginScreen from './screens/LoginScreen/LoginScreen';\nimport { SiteContext } from './context';\nimport Register from './screens/Register/Register';\nimport { Container } from 'react-bootstrap';\nimport auth from \"./class/Auth/Auth\";\nimport cookie from \"./class/Cookie/Cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [userSessionHistoryCompanies, setHistoryCompanies] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [companyVAT, SetInputVat] = useState([]);\n  const [vatArray, setVatArray] = useState([]);\n  const [companyInfo, setCompanyInfo] = useState([]);\n  const [loggedin, setAuth] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const submitButtonCompareForm = event => {\n    event.preventDefault();\n    SetInputVat(vatArray);\n    setVatArray([]);\n  };\n\n  const HistoryCall = async () => {\n    try {\n      setLoading(true);\n      console.log(loading);\n      let url = `https://localhost:44391/api/history/history/all`;\n      let response = await fetch(`${url}`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Authorization': `Bearer ${cookie.GetCookies(\"token\")}`\n        }\n      });\n      auth.destroy(response.status);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (auth.Auth()) {\n      HistoryCall().then(e => {\n        setHistoryCompanies(e.sendOBJ.history);\n        setLoading(false);\n        console.log(loading);\n      });\n    }\n  }, [loggedin]);\n  let vat = '123';\n  return /*#__PURE__*/_jsxDEV(SiteContext.Provider, {\n    value: {\n      companies: companies\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.App}`,\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(HomeScreen, {\n                vatArray: vatArray,\n                setVatArray: setVatArray,\n                submit: submitButtonCompareForm,\n                companyVAT: companyVAT,\n                companyInfo: companyInfo,\n                setCompanyInfo: setCompanyInfo,\n                userSessionHistoryCompanies: userSessionHistoryCompanies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/contact\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(ContactScreen, {\n                userSessionHistoryCompanies: userSessionHistoryCompanies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/UserHistory\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(HistoryScreen, {\n                userSessionHistoryCompanies: userSessionHistoryCompanies,\n                setHistoryCompanies: setHistoryCompanies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/Login\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(LoginScreen, {\n                setAuth: setAuth,\n                loggedin: loggedin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/register\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n} //commentje\n\n\n_s(App, \"0bTFYCB9EAzxBmzDAytQj23bFUE=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Nirma/data/ap_2021_2022/it-project/ProjectAp2022/it-project-frontend/src/App.tsx"],"names":["React","useState","useEffect","styles","NavBar","BrowserRouter","Redirect","Route","Switch","HomeScreen","ContactScreen","HistoryScreen","LoginScreen","SiteContext","Register","Container","auth","cookie","App","userSessionHistoryCompanies","setHistoryCompanies","companies","setCompanies","companyVAT","SetInputVat","vatArray","setVatArray","companyInfo","setCompanyInfo","loggedin","setAuth","loading","setLoading","submitButtonCompareForm","event","preventDefault","HistoryCall","console","log","url","response","fetch","method","headers","GetCookies","destroy","status","data","json","error","Auth","then","e","sendOBJ","history","vat"],"mappings":"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","sourcesContent":["import React, { ChangeEventHandler, MouseEventHandler, useState, useEffect} from 'react';\r\nimport styles from './App.module.css';\r\nimport Button from 'react-bootstrap/Button';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport HomeScreen from './screens/HomeScreen/HomeScreen';\r\nimport ContactScreen from './screens/ContactScreen/ContactScreen';\r\nimport HistoryScreen from './screens/HistoryScreen/HistoryScreen';\r\nimport LoginScreen from './screens/LoginScreen/LoginScreen';\r\nimport { ICompanyData, HistoryResponse } from './types';\r\nimport { SiteContext } from './context';\r\nimport { Form } from 'react-bootstrap/lib/Navbar';\r\nimport Register from './screens/Register/Register';\r\nimport { Container } from 'react-bootstrap';\r\nimport auth from \"./class/Auth/Auth\";\r\nimport cookie from \"./class/Cookie/Cookie\";\r\n\r\nfunction App() {\r\n  const [userSessionHistoryCompanies, setHistoryCompanies] = useState<ICompanyData[]>([]);\r\n  const [companies, setCompanies] = useState<ICompanyData[]>([]);\r\n  const [companyVAT, SetInputVat] = useState<string[]>([]);\r\n  const [vatArray, setVatArray] = useState<string[]>([]);\r\n  const [companyInfo, setCompanyInfo] = useState<ICompanyData[]>([]);\r\n  const [loggedin, setAuth] = useState<boolean>(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const submitButtonCompareForm: MouseEventHandler<HTMLButtonElement> = (event)=>{\r\n    event.preventDefault();\r\n    SetInputVat(vatArray);\r\n    setVatArray([]);\r\n  }\r\n\r\n  const HistoryCall= async () => {\r\n    \r\n   \r\n    try {\r\n      setLoading(true)\r\n      console.log(loading);\r\n      let url = `https://localhost:44391/api/history/history/all`;\r\n      let response = await fetch(`${url}`, {\r\n          method: 'GET',\r\n          headers: {\r\n              'content-type': 'application/json',\r\n              'Access-Control-Allow-Origin': '*',\r\n              'Authorization': `Bearer ${cookie.GetCookies(\"token\")}`\r\n          }\r\n      });\r\n\r\n      auth.destroy(response.status);\r\n \r\n      const data  =  await response.json();\r\n      return data\r\n\r\n      \r\n  } catch (error) {\r\n      console.log(error)  \r\n    \r\n    \r\n    }\r\n   }\r\n\r\n   useEffect(() => {\r\n\r\nif(auth.Auth()){\r\n  \r\n  HistoryCall().then((e:HistoryResponse)=>{\r\n \r\n     setHistoryCompanies(e.sendOBJ.history);\r\n            setLoading(false)\r\n            console.log(loading);\r\n    })\r\n\r\n}\r\n\r\n  \r\n  }, [loggedin]);\r\n\r\nlet vat = '123' \r\n\r\n\r\n\r\n  return (\r\n    <SiteContext.Provider value={{companies:companies}}>\r\n      <div className={`${styles.App}`}>\r\n        <BrowserRouter>\r\n\r\n        <NavBar/>\r\n        <Container>\r\n            <Switch>\r\n              <Route path=\"/home\" exact >\r\n                <HomeScreen  vatArray = {vatArray} setVatArray = {setVatArray} submit = {submitButtonCompareForm} companyVAT = {companyVAT} companyInfo = {companyInfo} setCompanyInfo = {setCompanyInfo} userSessionHistoryCompanies = {userSessionHistoryCompanies} />\r\n              </Route>\r\n              <Route path=\"/contact\" exact>\r\n                <ContactScreen userSessionHistoryCompanies={userSessionHistoryCompanies} />\r\n              </Route>\r\n              <Route path=\"/UserHistory\" exact>\r\n                <HistoryScreen userSessionHistoryCompanies={userSessionHistoryCompanies} setHistoryCompanies= {setHistoryCompanies}/>\r\n              </Route>\r\n              <Route path=\"/Login\" exact>\r\n                <LoginScreen setAuth={setAuth} loggedin = {loggedin} />\r\n              </Route>\r\n              <Route path=\"/register\" exact>\r\n                <Register />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                <Redirect to=\"/home\" />\r\n            </Route>\r\n            </Switch>\r\n          </Container>\r\n        </BrowserRouter>\r\n\r\n      </div>\r\n    </SiteContext.Provider>\r\n  );\r\n}\r\n//commentje\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}